# 음성 AI 건강주치의 앱 - Product Requirements Document (PRD)

**Version:** 1.0  
**작성일:** 2025년 12월  
**상태:** Approved  
**작성자:** Product Team

---

## 목차

1. [제품 개요](#1-제품-개요)
2. [목표 및 성공 지표](#2-목표-및-성공-지표)
3. [기능 요구사항](#3-기능-요구사항)
4. [비기능 요구사항](#4-비기능-요구사항)
5. [릴리스 계획](#5-릴리스-계획)
6. [리스크 및 의존성](#6-리스크-및-의존성)
7. [부록](#7-부록)

---

## 1. 제품 개요

### 1.1 비전

> "가족 모두의 건강을 AI로 지키고, 검증된 건강기능식품으로 실천하는 스마트 건강 주치의"

### 1.2 제품 설명

음성 AI 건강주치의 앱은 40-60대 중장년층을 주요 타겟으로 하는 가족 중심 건강관리 플랫폼입니다. 사용자는 6명의 전문 AI 캐릭터와 자연스러운 음성 대화를 통해 건강 상담을 받고, 본인뿐 아니라 가족 구성원의 건강 정보를 통합 관리할 수 있습니다.

### 1.3 핵심 가치 제안

| 가치 | 설명 |
|------|------|
| **음성 기반 자연스러운 상담** | 텍스트 입력 없이 말로 편하게 건강 상담 |
| **6명의 전문 AI 캐릭터** | 내과, 정신건강, 영양, 가정의학, 소아청소년, 노인의학 전문가 |
| **가족 중심 건강관리** | 본인 + 가족 구성원 건강 프로필 통합 관리 |
| **웨어러블 연동** | Apple HealthKit, Android Health Connect 데이터 활용 |
| **검증된 건강기능식품 추천** | 안전성 검증된 맞춤형 제품 추천 |

### 1.4 타겟 사용자

| 구분 | 대상 | 특징 |
|------|------|------|
| **주요 타겟** | 40-60대 중장년층 | 본인 건강 + 부모/자녀 건강 관심 |
| **2차 타겟** | 30-40대 자녀 세대 | 부모님 건강관리 도우미 역할 |
| **3차 타겟** | 60대 이상 부모 세대 | 자녀가 설치해주고 함께 사용 |

### 1.5 플랫폼

- **Mobile**: Android (Google Play), iOS (App Store)
- **Framework**: Flutter (Cross-platform)
- **최소 지원 버전**: Android 8.0+, iOS 14.0+

---

## 2. 목표 및 성공 지표

### 2.1 비즈니스 목표

| 지표 | 6개월 목표 | 12개월 목표 |
|------|-----------|-------------|
| **MAU** | 10,000명 | 50,000명 |
| **DAU** | 3,000명 | 14,000명 |
| **유료 전환율** | 5% | 8% |
| **월 매출** | $30,000 | $70,000 |
| **앱 평점** | 4.3+ | 4.5+ |

### 2.2 수익 모델

| 수익원 | 비중 | 월 목표 (12개월) |
|--------|------|-----------------|
| **구독 수익** | 64% | $45,000 |
| **제품 추천 커미션** | 29% | $20,000 |
| **광고 수익** | 7% | $5,000 |
| **합계** | 100% | $70,000 |

### 2.3 구독 티어

| 티어 | 월 가격 | 가족 프로필 | 상담 시간 | 상담 횟수 | 광고 | 기타 기능 |
|------|---------|------------|----------|----------|------|----------|
| **무료** | $0 | 본인 + 1명 | 5분/세션 | 월 10회 | 있음 | 기본 통계 |
| **베이직** | $9.99 | 본인 + 3명 | 15분/세션 | 무제한 | 없음 | 상세 통계 |
| **프리미엄** | $14.99 | 무제한 | 30분/세션 | 무제한 | 없음 | 전체 기능 |
| **패밀리** | $24.99 | 최대 6계정 | 30분/세션 | 무제한 | 없음 | 가족 공유 |

---

## 3. 기능 요구사항

### 3.1 인증 및 사용자 관리

#### 3.1.1 회원가입

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| AUTH-001 | 이메일/비밀번호 회원가입 | P0 |
| AUTH-002 | 비밀번호 규칙: 8자 이상, 영문+숫자+특수문자 | P0 |
| AUTH-003 | 이메일 중복 확인 | P0 |
| AUTH-004 | 이용약관 및 개인정보처리방침 동의 | P0 |
| AUTH-005 | 마케팅 정보 수신 동의 (선택) | P1 |

#### 3.1.2 로그인

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| AUTH-006 | 이메일/비밀번호 로그인 | P0 |
| AUTH-007 | 카카오 소셜 로그인 | P0 |
| AUTH-008 | Google 소셜 로그인 | P0 |
| AUTH-009 | Apple 소셜 로그인 (iOS) | P0 |
| AUTH-010 | 자동 로그인 (토큰 기반) | P0 |
| AUTH-011 | 비밀번호 찾기/재설정 | P0 |

#### 3.1.3 계정 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| AUTH-012 | 프로필 정보 수정 | P1 |
| AUTH-013 | 비밀번호 변경 | P1 |
| AUTH-014 | 회원 탈퇴 | P1 |
| AUTH-015 | 로그아웃 | P0 |

---

### 3.2 가족 프로필 관리

#### 3.2.1 프로필 생성

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FAM-001 | 가족 구성원 추가 (애칭 등록) | P0 |
| FAM-002 | 관계 선택 (본인, 배우자, 자녀, 부모 등) | P0 |
| FAM-003 | 나이 입력 (성인: 만 나이, 미성년: 개월수 가능) | P0 |
| FAM-004 | 성별 선택 | P0 |
| FAM-005 | 프로필 이미지 설정 (선택) | P2 |

#### 3.2.2 건강 프로필

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FAM-006 | 신장/체중 입력 | P0 |
| FAM-007 | 만성질환 등록 (다중 선택) | P0 |
| FAM-008 | 복용 약물 등록 (약물명, 복용량, 주기) | P0 |
| FAM-009 | 알레르기 등록 (다중 선택) | P0 |
| FAM-010 | 생활습관 입력 (흡연, 음주, 운동) | P1 |

#### 3.2.3 프로필 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FAM-011 | 프로필 수정 | P0 |
| FAM-012 | 프로필 삭제 | P1 |
| FAM-013 | 프로필 전환 (상담 대상 변경) | P0 |
| FAM-014 | 프로필 수 제한 (구독 티어별) | P0 |

---

### 3.3 AI 캐릭터 및 음성 상담

#### 3.3.1 AI 캐릭터

| ID | 캐릭터명 | 전문분야 | 성별 | Voice ID | 우선순위 |
|----|---------|---------|------|----------|----------|
| CHAR-001 | 박지훈 | 내과 | 남성 | onyx | P0 |
| CHAR-002 | 최현우 | 정신건강 | 남성 | echo | P0 |
| CHAR-003 | 장성민 | 영양 | 남성 | fable | P0 |
| CHAR-004 | 이수진 | 가정의학 | 여성 | nova | P0 |
| CHAR-005 | 김하은 | 소아청소년 | 여성 | shimmer | P0 |
| CHAR-006 | 정유진 | 노인의학 | 여성 | alloy | P0 |

#### 3.3.2 음성 상담

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| CONS-001 | 캐릭터 선택 화면 | P0 |
| CONS-002 | 상담 대상 가족 선택 | P0 |
| CONS-003 | 실시간 음성 대화 (OpenAI Realtime API) | P0 |
| CONS-004 | 인터럽트 기능 (AI 응답 중단) | P0 |
| CONS-005 | 세션 시간 제한 (티어별) | P0 |
| CONS-006 | 남은 시간 표시 | P0 |
| CONS-007 | 1분 전 경고 알림 | P1 |
| CONS-008 | 상담 시작 시 면책 조항 표시 | P0 |
| CONS-009 | 상담 내용 자동 저장 | P0 |
| CONS-010 | 상담 요약 생성 | P1 |
| CONS-011 | 네트워크 끊김 시 자동 재연결 | P0 |

#### 3.3.3 상담 이력

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| CONS-012 | 상담 이력 목록 조회 | P0 |
| CONS-013 | 가족별 상담 이력 필터링 | P1 |
| CONS-014 | 상담 상세 내용 조회 | P0 |
| CONS-015 | 상담 주제 태그 표시 | P1 |

---

### 3.4 RAG 지식베이스

#### 3.4.1 데이터 소스

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| RAG-001 | NHIS 47개 증상 건강정보 수집 | P0 |
| RAG-002 | 6개 만성질환 관리 가이드 수집 | P0 |
| RAG-003 | 6단계 구조화 (기초정보, 행동지침, 증상원인, 예방법, 주의사항, 상세정보) | P0 |

#### 3.4.2 벡터 검색

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| RAG-004 | Chroma DB 벡터 저장소 | P0 |
| RAG-005 | OpenAI Embeddings (text-embedding-3-small) | P0 |
| RAG-006 | 시맨틱 검색 | P0 |
| RAG-007 | 컨텍스트 기반 응답 생성 | P0 |

---

### 3.5 건강기능식품 추천

#### 3.5.1 제품 데이터베이스

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| PROD-001 | 쿠팡 파트너스 API 연동 | P0 |
| PROD-002 | iHerb 제휴 API 연동 | P1 |
| PROD-003 | 제품 정보 수동 검증 | P0 |
| PROD-004 | 성분 정보 DB 구축 | P0 |
| PROD-005 | 금기사항 DB 구축 | P0 |

#### 3.5.2 추천 로직

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| PROD-006 | 키워드 2회 이상 언급 시 추천 트리거 | P0 |
| PROD-007 | 명시적 요청 시 즉시 추천 | P0 |
| PROD-008 | 복용 약물 상호작용 체크 | P0 |
| PROD-009 | 알레르기 성분 체크 | P0 |
| PROD-010 | 만성질환 금기 체크 | P0 |
| PROD-011 | 추천 사유 제공 | P0 |

#### 3.5.3 제휴 링크

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| PROD-012 | 제휴 링크 생성 | P0 |
| PROD-013 | 클릭 추적 | P0 |
| PROD-014 | 전환 추적 (가능한 경우) | P1 |

---

### 3.6 웨어러블 연동

#### 3.6.1 플랫폼 연동

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| WEAR-001 | Android Health Connect 연동 | P0 |
| WEAR-002 | iOS HealthKit 연동 | P0 |
| WEAR-003 | 연동 on/off 설정 (프로필별) | P0 |

#### 3.6.2 수집 데이터

| ID | 데이터 유형 | 단위 | 우선순위 |
|----|------------|------|----------|
| WEAR-004 | 걸음수 | steps | P0 |
| WEAR-005 | 수면 시간 | minutes | P0 |
| WEAR-006 | 심박수 | bpm | P0 |
| WEAR-007 | 혈압 | mmHg | P1 |
| WEAR-008 | 혈당 | mg/dL | P1 |

#### 3.6.3 데이터 활용

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| WEAR-009 | 상담 컨텍스트에 데이터 활용 | P0 |
| WEAR-010 | 건강 트렌드 시각화 | P1 |
| WEAR-011 | 백그라운드 동기화 | P1 |

---

### 3.7 루틴 관리 및 감사일기

#### 3.7.1 아침 루틴

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| ROUTINE-001 | 기본 루틴 체크리스트 (기상, 물 마시기, 스트레칭) | P1 |
| ROUTINE-002 | 루틴 완료 체크 | P1 |
| ROUTINE-003 | 루틴 달성률 계산 | P1 |
| ROUTINE-004 | 루틴 알림 설정 | P2 |

#### 3.7.2 감사일기

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| ROUTINE-005 | 매일 감사한 일 3가지 작성 | P1 |
| ROUTINE-006 | 작성 히스토리 조회 | P1 |
| ROUTINE-007 | 연속 작성일 표시 | P1 |
| ROUTINE-008 | 작성 알림 설정 | P2 |

---

### 3.8 통계 및 분석

#### 3.8.1 통계 영역

| ID | 통계 영역 | 내용 | 우선순위 |
|----|----------|------|----------|
| STAT-001 | 상담 이력 통계 | 주간/월간 상담 횟수, 주요 주제 | P1 |
| STAT-002 | 건강 데이터 트렌드 | 걸음수, 수면, 심박수 추이 | P1 |
| STAT-003 | 루틴 달성률 | 일별/주별 달성률 차트 | P2 |
| STAT-004 | 감사일기 현황 | 연속 작성일, 월별 작성 빈도 | P2 |
| STAT-005 | 가족 건강 요약 | 가족별 최근 상담 요약 | P1 |

#### 3.8.2 시각화

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| STAT-006 | 라인 차트 (트렌드) | P1 |
| STAT-007 | 바 차트 (비교) | P1 |
| STAT-008 | 캘린더 히트맵 | P2 |

---

### 3.9 광고

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| AD-001 | 무료 사용자 대상 배너 광고 | P1 |
| AD-002 | Google AdMob 연동 (글로벌) | P1 |
| AD-003 | 카카오 애드핏 연동 (한국) | P1 |
| AD-004 | 지역별 광고 플랫폼 자동 선택 | P1 |
| AD-005 | 유료 구독 시 광고 제거 | P0 |
| AD-006 | 광고 위치: 홈 하단, 상담 이력 중간 | P1 |

---

### 3.10 결제 및 구독

#### 3.10.1 인앱 결제

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| PAY-001 | Google Play Billing 연동 | P0 |
| PAY-002 | Apple IAP 연동 | P0 |
| PAY-003 | 구독 상품 표시 | P0 |
| PAY-004 | 결제 처리 | P0 |
| PAY-005 | 영수증 검증 (서버 사이드) | P0 |

#### 3.10.2 구독 관리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| PAY-006 | 구독 상태 조회 | P0 |
| PAY-007 | 자동 갱신 관리 | P0 |
| PAY-008 | 구독 취소 | P0 |
| PAY-009 | 구독 변경 (업/다운그레이드) | P1 |
| PAY-010 | 환불 정책 안내 | P1 |

---

### 3.11 응급 상황 대응

#### 3.11.1 응급 레벨 정의

| 레벨 | 상황 | 트리거 키워드 (예시) | 대응 |
|------|------|---------------------|------|
| **Level 1** | 즉시 응급 | "가슴이 찢어지듯", "의식을 잃음", "숨을 못 쉼" | 119 즉시 안내 |
| **Level 2** | 정신건강 위기 | "자살", "자해", "죽고 싶다" | 위기상담전화 1577-0199 안내 |
| **Level 3** | 의료기관 권고 | "3일 이상 고열", "갑자기 시력 이상" | 의료기관 방문 강력 권고 |

#### 3.11.2 대응 요구사항

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| EMERG-001 | 응급 키워드 실시간 감지 | P0 |
| EMERG-002 | 레벨별 자동 응답 스크립트 | P0 |
| EMERG-003 | 119 전화 연결 버튼 표시 | P0 |
| EMERG-004 | 위기상담 전화번호 안내 | P0 |
| EMERG-005 | 응급 상황 로그 기록 | P1 |

---

## 4. 비기능 요구사항

### 4.1 성능

| ID | 요구사항 | 목표 | 우선순위 |
|----|----------|------|----------|
| PERF-001 | 앱 Cold Start 시간 | 3초 이내 | P0 |
| PERF-002 | 음성 응답 지연시간 | 500ms 이내 | P0 |
| PERF-003 | API 응답 시간 (95th percentile) | 2초 이내 | P0 |
| PERF-004 | 동시 접속자 처리 | 1,000명 이상 | P0 |

### 4.2 보안

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| SEC-001 | HTTPS/TLS 1.3 통신 | P0 |
| SEC-002 | 민감 데이터 AES-256 암호화 | P0 |
| SEC-003 | JWT 토큰 인증 (Access: 1시간, Refresh: 7일) | P0 |
| SEC-004 | 개인정보보호법 준수 | P0 |
| SEC-005 | 의료법 준수 (진단/처방 기능 배제) | P0 |
| SEC-006 | 비밀번호 bcrypt 해싱 | P0 |

### 4.3 접근성 (WCAG 2.1 AA)

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| ACC-001 | 색상 대비율 4.5:1 이상 | P0 |
| ACC-002 | 터치 타겟 44x44px 이상 | P0 |
| ACC-003 | 스크린 리더 지원 | P1 |
| ACC-004 | 텍스트 크기 조절 지원 (200%까지) | P1 |
| ACC-005 | 음성 안내 지원 | P1 |

### 4.4 데이터 보존

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| DATA-001 | 상담 기록 3년 보존 | P0 |
| DATA-002 | 회원 탈퇴 시 30일 내 개인정보 삭제 | P0 |
| DATA-003 | 로그 데이터 1년 보존 | P1 |

---

## 5. 릴리스 계획

### 5.1 개발 일정 (16주)

| 주차 | 마일스톤 | 주요 작업 |
|------|----------|----------|
| **Week 1-2** | 프로젝트 설정 | Flutter 환경, CI/CD, 디자인 시스템 |
| **Week 3-4** | 인증 시스템 | 회원가입, 로그인, SNS 연동, 토큰 관리 |
| **Week 5-6** | 프로필 시스템 | 사용자/가족 프로필, 건강정보, DB 설계 |
| **Week 7-8** | AI 캐릭터 | 6개 캐릭터, OpenAI Realtime API, 시스템 프롬프트 |
| **Week 9-10** | RAG 지식베이스 | NHIS 데이터 수집, Chroma DB, 벡터 검색 |
| **Week 11-12** | 제품 추천 | 제품 DB, 안전성 검증, 제휴 링크 |
| **Week 13-14** | 웨어러블/부가기능 | Health Connect/HealthKit, 루틴, 감사일기, 통계 |
| **Week 15-16** | 테스트/배포 | 베타 테스트, 버그 수정, 스토어 출시 |

### 5.2 베타 테스트 계획

| 항목 | 내용 |
|------|------|
| **기간** | 2주 |
| **테스터 수** | 100명 |
| **모집 방법** | 지인 네트워크, 관련 커뮤니티 |
| **피드백 수집** | 구글폼, 앱 내 피드백 |
| **테스트 플랫폼** | TestFlight (iOS), Google Play 베타 (Android) |

### 5.3 출시 전략

| 항목 | 내용 |
|------|------|
| **출시 플랫폼** | Android, iOS 동시 출시 |
| **초기 마켓** | 한국 (대한민국) |
| **ASO 최적화** | 키워드: 건강관리, AI상담, 가족건강, 건강주치의 |
| **초기 마케팅** | 소셜미디어, 건강 커뮤니티 타겟 광고 |

---

## 6. 리스크 및 의존성

### 6.1 기술 리스크

| 리스크 | 영향도 | 발생확률 | 완화 전략 |
|--------|--------|----------|----------|
| OpenAI API 장애 | 높음 | 낮음 | 폴백 텍스트 모드, 에러 핸들링 |
| 음성 품질 이슈 | 중간 | 중간 | 노이즈 캔슬링, 오디오 최적화 |
| 1인 개발 병목 | 높음 | 높음 | MVP 범위 최소화, 우선순위 집중 |
| API 비용 초과 | 중간 | 중간 | 사용량 모니터링, 캐싱 전략 |

### 6.2 비즈니스 리스크

| 리스크 | 영향도 | 발생확률 | 완화 전략 |
|--------|--------|----------|----------|
| 제휴 계약 지연 | 중간 | 중간 | 자체 제품 DB 우선 구축 |
| 낮은 유료 전환율 | 높음 | 중간 | 가격 정책 조정, 무료 기능 제한 |
| 의료법 규제 | 높음 | 낮음 | 법률 자문, 면책 조항 강화 |

### 6.3 외부 의존성

| 의존성 | 용도 | 대안 |
|--------|------|------|
| OpenAI API | Realtime 음성, GPT-4, Embeddings | Anthropic, Google AI |
| Firebase | Auth, Analytics, FCM | Supabase, AWS |
| Health Connect/HealthKit | 웨어러블 데이터 | Terra API (Phase 2) |
| 쿠팡/iHerb | 제품 제휴 | 자체 DB + 수동 링크 |
| AdMob/카카오 애드핏 | 광고 수익 | 다른 광고 네트워크 |

---

## 7. 부록

### 7.1 용어 정의

| 용어 | 정의 |
|------|------|
| **RAG** | Retrieval-Augmented Generation, 검색 증강 생성 |
| **MVP** | Minimum Viable Product, 최소 기능 제품 |
| **NHIS** | National Health Insurance Service, 국민건강보험공단 |
| **Chroma DB** | 오픈소스 벡터 데이터베이스 |
| **Health Connect** | Android 건강 데이터 통합 플랫폼 |
| **HealthKit** | iOS 건강 데이터 프레임워크 |

### 7.2 관련 문서

| 문서 | 상태 | 설명 |
|------|------|------|
| TRD (Technical Requirements Document) | 완료 | 기술 요구사항 정의서 |
| AI 캐릭터 시스템 프롬프트 가이드 | 완료 | 6명 캐릭터 프롬프트 정의 |
| 프로젝트 설정 가이드 | 완료 | 개발 환경 및 프로젝트 구조 |
| UI/UX 설계 가이드 | 기존 문서 | v4.0 |
| 개발 기능 상세 요구서 | 기존 문서 | v6.0 |

### 7.3 버전 히스토리

| 버전 | 일자 | 작성자 | 변경사항 |
|------|------|--------|----------|
| 1.0 | 2025-12 | Product Team | 최초 작성 |

---

**문서 끝**
